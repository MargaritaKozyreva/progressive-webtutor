# Web components

Сразу надо понять, веб-компоненты - это не какая-то очередная библиотека, это часть платформы\(браузера\), которая уже давно делается W3C\(~ c 2012 года\) и усиленно продвигается Google и используются во многих крупных компаниях в продакшн \(YouTube, Bloomberg, EA итд\). То есть как все это работает придется изучить, так как это уже настоящее и возможно будущее web.

Чтобы иметь представление о чем речь, посмотрите [по ссылке](https://vaadin.com/elements/browse), что они из себя представляют.

#### Спецификации

В основе веб-компонент лежит четыре спецификации \(каждая может быть использована отдельно\):

1\) [Custom Elements](https://w3c.github.io/webcomponents/spec/custom/)

Создание собственных HTML-элементов

2\) [Shadow DOM](https://w3c.github.io/webcomponents/spec/shadow/)

Инкапсуляции DOM и CSS

3\) &lt;script type="module"&gt;

Загрузка веб-компонент

**Внимание! **Раньше для этого использовался [HTML imports](https://w3c.github.io/webcomponents/spec/imports/)\(`<link rel="import">`\). Но в 2017 было решено использовать ES6 Modules. Вы будете частенько встречать метод загрузки через HTML imports, его работу будут поддерживать еще несколько лет.

4\) [HTML Template](https://html.spec.whatwg.org/multipage/scripting.html#the-template-element/)

Отложенный рендер клиентского контента, который не отображается во время загрузки, но может быть инициализирован при помощи JavaScript.

#### Поддержка браузерами

Веб-компоненты можно использовать в браузерах, в которых реализованы 4 указанные выше спецификации.

На данный момент все четыре спецификации реализована в Chrome, Safari и Opera. В остальных браузерах они реализованы частично.

Пока остальные браузеры занимаются у себя осуществлением поддержки недостающих спецификаций\(а им это придется сделать\), для них был разработан полифилл [webcomponentsjs](https://github.com/webcomponents/webcomponentsjs), который добавляет поддержку спецификации в браузерах, в которых она отсутствует. Если вкратце, то полифилл [webcomponentsjs](https://github.com/webcomponents/webcomponentsjs), это просто скрипт, который добавляется на страницу и в зависимости от браузера, осуществляет поддержку отсутствующих спецификаций.

На данный момент поддержка веб-компонент браузерами выглядит вот так:

![](/Development/WebComponents/1.jpg)**Поддержка Internet Explorer**

Смею предположить, что вы\(как и большинство\) являетесь страстным "поклонником" браузера IE и хотите знать, как обстоят дела с поддержкой веб-компонент в IE? Кто бы мог подумать, но IE11 и его предки не поддерживают ни одной указанной выше спецификации...

В IE11 выручает полифилл [webcomponentsjs](https://github.com/webcomponents/webcomponentsjs) и добавляет поддержку всех четырех спецификаций и тогда веб-компоненты в нем работают.

Что касается предыдущих версий IE, то я наткнулся и на поддержку веб-компонент в IE9, IE10 в [X-Tag](https://x-tag.github.io/) \(библиотека для создания веб-компонент от Microsoft\). Но фишка в том, что X-Tag, как и все остальные, кто сейчас имеет дело с веб-компонентами используют один и тот же полифилл [webcomponentsjs](https://github.com/webcomponents/webcomponentsjs). И вот, что сказано по поводу поддержки в старых браузерах на странице полифилла [webcomponentsjs](https://github.com/webcomponents/webcomponentsjs):

_Полифилл может работать и в старых браузерах, однако для его использования потребуются дополнительные полифиллы \(такие как classList или другие полифиллы _[_платформы_](https://github.com/webcomponents/webcomponents-platform)_\). Мы не можем гарантировать поддержку для браузеров вне нашей матрицы совместимости._

В матрице совместимости у них указан только IE11+.

Проверять работу веб-компонент сделанных с помощью X-Tag в старых браузерах, нет ни времени ни желания\(так как даже IE11 поддерживать не хочется, не говоря про IE9, IE10\). Хочется конечно верить, что поддержка IE9, IE10 действительно есть. Но пока этого никто не проверил рассчитывайте на поддержку только IE11.

P.S. Если кто проверит поддержку веб-компонент сделанных с помощью X-Tag\(или с помощью чего-то еще\) в IE9, IE10 отпишите мне, я обновлю тут информацию.

** как о переиспользуемых виджетах пользовательского интерфейса,**

которые создаются с помощью открытых веб-технологий. Они являются частью браузера и поэтому не нуждаются во внешних библиотеках, таких как jQuery или Dojo.

Веб-компоненты могут быть простыми и представлять из себя к примеру [кнопку](https://www.webcomponents.org/element/PolymerElements/paper-button), а могут быть огромными, включать в себя много других компонент, которые будут включать в себя еще компоненты и в итоге представлять из себя полноценные [приложения](https://santatracker.google.com).

Веб-компоненты это не очередная библиотека или новая технология, существование которой под вопросом. Веб-компоненты утверждены и уже являются частью платформы и уже успешно используются во многих компаниях.

W3C

W3C еще вносит изменения в спецификацию, но эти изменения уже не значительные и можно уже спокойно использовать

Я и сам с осторожно отношусь к чему-то новому, так как в свое время уделил много времени Flash и ActionScript 3, от которых все в итоге отказались :DНо тут совсем другая ситуация.

